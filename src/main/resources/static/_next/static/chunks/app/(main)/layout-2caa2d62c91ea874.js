(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4095],{9898:function(e,t,n){Promise.resolve().then(n.bind(n,2194))},2194:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var i=n(9268),o=n(465),s=n(6006),l=n(5942);n(2577),n(9829),n(7241);var r=n(8671),a=()=>{let{layoutConfig:e}=(0,s.useContext)(r.V);return(0,i.jsxs)("div",{className:"layout-footer",children:[(0,i.jsx)("img",{src:"/images/logo/logo.png",alt:"Logo",height:"20",className:"mr-2"}),"by",(0,i.jsx)("span",{className:"font-medium ml-2",children:"Kobe"})]})},c=n(5846),u=n.n(c),d=n(9347),m=n(562);let p=(0,s.createContext)({}),v=e=>{let{children:t}=e,[n,o]=(0,s.useState)("");return(0,i.jsx)(p.Provider,{value:{activeMenu:n,setActiveMenu:o},children:t})};var b=n(6008);let f=e=>{let t=(0,b.usePathname)(),n=(0,b.useSearchParams)(),{activeMenu:o,setActiveMenu:r}=(0,s.useContext)(p),a=e.item,c=e.parentKey?e.parentKey+"-"+e.index:String(e.index),v=a.to&&t===a.to,g=o===c||o.startsWith(c+"-"),x=e=>{a.to&&a.to===e&&r(c)};(0,s.useEffect)(()=>{x(t)},[t,n]);let h=t=>{if(a.disabled){t.preventDefault();return}a.command&&a.command({originalEvent:t,item:a}),a.items?r(g?e.parentKey:c):r(c)},y=a.items&&!1!==a.visible&&(0,i.jsx)(m.Z,{timeout:{enter:1e3,exit:450},classNames:"layout-submenu",in:!!e.root||g,children:(0,i.jsx)("ul",{children:a.items.map((e,t)=>(0,i.jsx)(f,{item:e,index:t,className:e.badgeClass,parentKey:c},e.label))})},a.label);return(0,i.jsxs)("li",{className:(0,l.AK)({"layout-root-menuitem":e.root,"active-menuitem":g}),children:[e.root&&!1!==a.visible&&(0,i.jsx)("div",{className:"layout-menuitem-root-text",children:a.label}),(!a.to||a.items)&&!1!==a.visible?(0,i.jsxs)("a",{href:a.url,onClick:e=>h(e),className:(0,l.AK)(a.class,"p-ripple"),target:a.target,tabIndex:0,children:[(0,i.jsx)("i",{className:(0,l.AK)("layout-menuitem-icon",a.icon)}),(0,i.jsx)("span",{className:"layout-menuitem-text",children:a.label}),a.items&&(0,i.jsx)("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),(0,i.jsx)(d.H,{})]}):null,a.to&&!a.items&&!1!==a.visible?(0,i.jsxs)(u(),{href:a.to,replace:a.replaceUrl,target:a.target,onClick:e=>h(e),className:(0,l.AK)(a.class,"p-ripple",{"active-route":v}),tabIndex:0,children:[(0,i.jsx)("i",{className:(0,l.AK)("layout-menuitem-icon",a.icon)}),(0,i.jsx)("span",{className:"layout-menuitem-text",children:a.label}),a.items&&(0,i.jsx)("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),(0,i.jsx)(d.H,{})]}):null,y]})};var g=()=>{let{layoutConfig:e}=(0,s.useContext)(r.V);return(0,i.jsx)(v,{children:(0,i.jsxs)("ul",{className:"layout-menu",children:[[{label:"Home",items:[{label:"Dashboard",icon:"pi pi-home",to:"/"},{label:"Network",icon:"pi pi-sitemap",items:[{label:"Statistics",icon:"pi pi-wifi",to:"/network/stats"},{label:"mDNS",icon:"pi pi-globe",to:"/network/mDNS"},{label:"Scan",icon:"pi pi-search",to:"/network/scan"}]},{label:"Probability Mapping",icon:"pi pi-map",to:"/probability-mapping"}]},{label:"Network Tables",items:[{label:"XTABLES",icon:"pi pi-fw pi-table",to:"/xtables"},{label:"Statistics",icon:"pi pi-chart-bar",items:[{label:"Live Statistics",icon:"pi pi-chart-line",to:"/xtables/stats"},{label:"Record Statistics",icon:"pi pi-history",to:"/xtables/stats/record"}]},{label:"Graphs",icon:"pi pi-chart-pie",to:"/xtables/graphs"}]},{label:"Get Started",items:[{label:"Documentation",icon:"pi pi-fw pi-question",to:"/documentation"}]}].map((e,t)=>(null==e?void 0:e.seperator)?(0,i.jsx)("li",{className:"menu-separator"}):(0,i.jsx)(f,{item:e,root:!0,index:t},e.label)),(0,i.jsx)(u(),{href:"/",style:{cursor:"pointer"},children:(0,i.jsx)("img",{alt:"XBOT Robotics",className:"w-full my-4",src:"/images/logo/logo.png"})})]})})},x=()=>(0,i.jsx)(g,{}),h=n(3702),y=n(4777);let j=(0,s.forwardRef)((e,t)=>{let{layoutConfig:n,layoutState:o,onMenuToggle:a,showProfileSidebar:c}=(0,s.useContext)(r.V);(0,b.useRouter)();let d=(0,s.useRef)(null),m=(0,s.useRef)(null),p=(0,s.useRef)(null),v=(0,s.useRef)(null);return(0,s.useImperativeHandle)(t,()=>({menubutton:d.current,topbarmenu:m.current,topbarmenubutton:p.current})),(0,i.jsxs)("div",{className:"layout-topbar",children:[(0,i.jsx)(u(),{href:"/",className:"layout-topbar-logo",children:(0,i.jsx)("img",{src:"/images/logo/logo.png",height:"35px",alt:"logo"})}),(0,i.jsx)("button",{ref:d,type:"button",className:"p-link layout-menu-button layout-topbar-button",onClick:a,children:(0,i.jsx)("i",{className:"pi pi-bars"})}),(0,i.jsx)("button",{ref:p,type:"button",className:"p-link layout-topbar-menu-button layout-topbar-button",onClick:c,children:(0,i.jsx)("i",{className:"pi pi-ellipsis-v"})}),(0,i.jsxs)("div",{ref:m,className:(0,l.AK)("layout-topbar-menu",{"layout-topbar-menu-mobile-active":o.profileSidebarVisible}),children:[(0,i.jsx)(y.v,{model:[{label:"Options",items:[{label:"Refresh",icon:"pi pi-refresh",command:()=>{let e=window.location.pathname,t=window.location.search,n="/"===e||"/index.html"===e||e.endsWith(".html")?e:"".concat(e,".html");window.location.href="".concat(n).concat(t)}},{label:"Logout",icon:"pi pi-sign-out",url:"/perform_logout"}]}],popup:!0,ref:v,id:"popup_menu_left"}),(0,i.jsxs)(h.z,{className:"p-link layout-topbar-button",onClick:e=>v.current.toggle(e),"aria-controls":"popup_menu_left","aria-haspopup":!0,children:[(0,i.jsx)("i",{className:"pi pi-user"}),(0,i.jsx)("span",{children:"Profile"})]}),(0,i.jsx)(u(),{href:"/settings",children:(0,i.jsxs)("button",{type:"button",className:"p-link layout-topbar-button",children:[(0,i.jsx)("i",{className:"pi pi-cog"}),(0,i.jsx)("span",{children:"Settings"})]})})]})]})});j.displayName="AppTopbar";var N=n(3045),S=e=>{let{children:t}=e,[n,o]=(0,s.useState)(!1),[l,r]=(0,s.useState)(""),[a,c]=(0,s.useState)("");return(0,s.useEffect)(()=>{let e=["Setting up resources","Loading assets","Initializing modules","Finalizing setup"],t=0,n=0,i=()=>{let e="XBOT DASHBOARD",t=0,n=setInterval(()=>{c(i=>t<e.length?i+e[++t-1]:(clearInterval(n),setTimeout(()=>o(!0),500),i))},50)},s=()=>{setTimeout(()=>{clearInterval(l),r(""),i()},500)};"complete"===document.readyState?s():(window.addEventListener("load",s),document.addEventListener("DOMContentLoaded",s));let l=setInterval(()=>{r(i=>n<e[t].length?(n++,i+e[t][n-1]):(t=(t+1)%e.length,n=0,""))},10);return()=>{clearInterval(l),window.removeEventListener("load",s),document.removeEventListener("DOMContentLoaded",s)}},[]),(0,i.jsxs)(i.Fragment,{children:[!n&&(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,i.jsx)("img",{src:"/images/logo/logo.png",alt:"Logo",className:"xl:w-30rem lg:w-25rem sm:w-20rem w-9",style:{marginBottom:"16px"}}),(0,i.jsx)("div",{className:"font-extrabold text-xl",style:{textAlign:"center"},children:a||l})]}),n&&t]})},w=e=>{let{children:t}=e,{layoutConfig:n,layoutState:c,setLayoutState:u}=(0,s.useContext)(r.V),d=(0,s.useRef)(null),m=(0,s.useRef)(null),[p,v]=(0,s.useState)(!0),[f,g]=(0,o.OR)({type:"click",listener:e=>{var t,n,i,o,s,l;let r=!((null===(t=m.current)||void 0===t?void 0:t.isSameNode(e.target))||(null===(n=m.current)||void 0===n?void 0:n.contains(e.target))||(null===(o=d.current)||void 0===o?void 0:null===(i=o.menubutton)||void 0===i?void 0:i.isSameNode(e.target))||(null===(l=d.current)||void 0===l?void 0:null===(s=l.menubutton)||void 0===s?void 0:s.contains(e.target)));r&&C()}}),h=(0,b.usePathname)(),y=(0,b.useSearchParams)();(0,s.useEffect)(()=>{C(),k()},[h,y]);let[w,E]=(0,o.OR)({type:"click",listener:e=>{var t,n,i,o,s,l,r,a;let c=!((null===(n=d.current)||void 0===n?void 0:null===(t=n.topbarmenu)||void 0===t?void 0:t.isSameNode(e.target))||(null===(o=d.current)||void 0===o?void 0:null===(i=o.topbarmenu)||void 0===i?void 0:i.contains(e.target))||(null===(l=d.current)||void 0===l?void 0:null===(s=l.topbarmenubutton)||void 0===s?void 0:s.isSameNode(e.target))||(null===(a=d.current)||void 0===a?void 0:null===(r=a.topbarmenubutton)||void 0===r?void 0:r.contains(e.target)));c&&k()}}),C=()=>{u(e=>({...e,overlayMenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1})),g(),M()},k=()=>{u(e=>({...e,profileSidebarVisible:!1})),E()},L=()=>{document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"},M=()=>{document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")};(0,s.useEffect)(()=>{(c.overlayMenuActive||c.staticMenuMobileActive)&&f(),c.staticMenuMobileActive&&L()},[c.overlayMenuActive,c.staticMenuMobileActive]),(0,s.useEffect)(()=>{c.profileSidebarVisible&&w()},[c.profileSidebarVisible]),(0,o.zq)(()=>{g(),E()});let O=(0,l.AK)("layout-wrapper",{"layout-overlay":"overlay"===n.menuMode,"layout-static":"static"===n.menuMode,"layout-static-inactive":c.staticMenuDesktopInactive&&"static"===n.menuMode,"layout-overlay-active":c.overlayMenuActive,"layout-mobile-active":c.staticMenuMobileActive,"p-input-filled":"filled"===n.inputStyle,"p-ripple-disabled":!1});return(0,i.jsx)(s.Fragment,{children:(0,i.jsxs)("div",{className:O,children:[(0,i.jsx)(j,{ref:d}),(0,i.jsx)("div",{ref:m,className:"layout-sidebar",children:(0,i.jsx)(x,{})}),(0,i.jsxs)("div",{className:"layout-main-container",children:[(0,i.jsx)("div",{className:"layout-main",children:(0,i.jsx)(S,{children:t})}),(0,i.jsx)(a,{})]}),(0,i.jsx)(N.default,{}),(0,i.jsx)("div",{className:"layout-mask"})]})})},E=n(7537),C=n(4046),k=n(2983);function L(e){let{children:t}=e,{latestLog:n}=(0,s.useContext)(E.U),o=(0,s.useRef)(null);return(0,s.useEffect)(()=>{var e;n&&(null==n?void 0:n.PRIORITY)<4&&(null===(e=o.current)||void 0===e||e.show({severity:"error",summary:(null==n?void 0:n._HOSTNAME)||(null==n?void 0:n._COMM)||(null==n?void 0:n._SYSTEMD_UNIT)||(null==n?void 0:n.system)||(null==n?void 0:n._CMDLINE)||(null==n?void 0:n.SYSLOG_IDENTIFIER)||"unknown source",detail:(0,k.truncateString)(null==n?void 0:n.MESSAGE,100)||"There was a unknown error message on one of the machines.",life:6e3,closable:!1}))},[n]),(0,i.jsxs)(w,{children:[(0,i.jsx)(C.F,{ref:o}),t]})}function M(e){let{children:t}=e;return(0,i.jsx)(E.q,{url:"ws://localhost:8080/ws",children:(0,i.jsx)(L,{children:t})})}},7537:function(e,t,n){"use strict";n.d(t,{U:function(){return s},q:function(){return l}});var i=n(9268),o=n(6006);let s=(0,o.createContext)({}),l=e=>{let{children:t,url:n}=e,[l,r]=(0,o.useState)(!1),[a,c]=(0,o.useState)(new Date),u=(0,o.useRef)(null),[d,m]=(0,o.useState)(null);return(0,o.useEffect)(()=>((function e(){console.log("Connecting to websocket"),u.current=new WebSocket(n),u.current.onopen=()=>{r(!0)},u.current.onclose=()=>(r(!1),console.log("Disconnected from websocket."),e()),u.current.onerror=e=>{console.error("WebSocket Error: ",e),u.current.close(),r(!1)}})(),()=>{u.current&&u.current.close()}),[n]),(0,o.useEffect)(()=>{c(new Date)},[l]),(0,o.useEffect)(()=>{let e=e=>{let t=JSON.parse(e.data);if("DEVICE-ERROR-LOG"===t.type){let e=JSON.parse(t.message);m(e)}};return u.current&&u.current.addEventListener("message",e),()=>{u.current.removeEventListener("message",e)}},[u.current]),(0,i.jsx)(s.Provider,{value:{isConnected:l,lastConnectionUpdate:a,sendMessageAndWaitForCondition:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500;return l?(u.current.send(JSON.stringify(e)),new Promise((e,i)=>{let o=n=>{let i=JSON.parse(n.data);if(t(i)){u.current.removeEventListener("message",o),clearTimeout(s);let t=i.message;i.message=JSON.parse(t),e(i)}},s=setTimeout(()=>{u.current.removeEventListener("message",o),i(Error("Timeout: Condition not met within ".concat(n," ms")))},n);u.current.addEventListener("message",o)})):Promise.reject(Error("WebSocket is not connected"))},sendMessageTillCondition:(e,t)=>{if(!l)throw Error("WebSocket is not connected");u.current.send(JSON.stringify(e));let n=e=>{let i=JSON.parse(e.data);t(i)&&u.current.removeEventListener("message",n)};u.current.addEventListener("message",n)},listenTillCondition:e=>l?new Promise(t=>{let n=i=>{let o=JSON.parse(i.data);e(o)&&(u.current.removeEventListener("message",n),t(o))};u.current.addEventListener("message",n)}):Promise.reject(Error("WebSocket is not connected")),socket:u,latestLog:d,sendMessage:e=>{if(!l)return Error("WebSocket is not connected");u.current.send(JSON.stringify(e))}},children:t})}},2983:function(e){"use strict";e.exports.truncateString=function(e,t){return e.length>t?e.slice(0,t)+"...":e}},9829:function(){},7241:function(){},2577:function(){},5846:function(e,t,n){e.exports=n(7477)},6008:function(e,t,n){e.exports=n(794)},3171:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var i=n(6006),o=n(6986);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var l=i.memo(i.forwardRef(function(e,t){var n=o.A.getPTI(e);return i.createElement("svg",s({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),i.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));l.displayName="CheckIcon"}},function(e){e.O(0,[1608,434,6878,6789,8285,4046,3640,5066,7477,3542,9253,5769,1744],function(){return e(e.s=9898)}),_N_E=e.O()}]);
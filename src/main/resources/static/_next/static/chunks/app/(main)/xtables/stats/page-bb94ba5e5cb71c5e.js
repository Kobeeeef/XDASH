(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{2832:function(e,n,t){Promise.resolve().then(t.bind(t,2384))},2384:function(e,n,t){"use strict";t.r(n);var r=t(9268),l=t(6006),i=t(7537),s=t(7389),a=t(9009);n.default=()=>{var e,n,t,o,c,d,u,m,v,x,f,p,b,h,g,j,y,N,w;let{isConnected:S,lastConnectionUpdate:k,sendMessageAndWaitForCondition:O}=(0,l.useContext)(i.U),[E,P]=(0,l.useState)({}),[T,C]=(0,l.useState)(new Date),[D,M]=(0,l.useState)(new Date),[L,A]=(0,l.useState)(new Date);return(0,l.useEffect)(()=>{let e=setInterval(()=>{S&&O({type:"XTABLES-STATISTICS"},e=>"XTABLES-STATISTICS"===e.type).then(e=>{P(n=>{var t,r;return e.message.connected!==(null==n?void 0:n.connected)&&C(new Date),e.message.connected&&(e.message.info=JSON.parse(e.message.info),e.message.info.totalClients!==(null==n?void 0:null===(t=n.info)||void 0===t?void 0:t.totalClients)&&M(new Date),e.message.info.totalMessages!==(null==n?void 0:null===(r=n.info)||void 0===r?void 0:r.totalMessages)&&A(new Date)),console.log(e.message),e.message})}).catch(()=>{})},100);return()=>clearInterval(e)},[S,O]),(0,r.jsxs)("div",{className:"grid fadeIn",children:[(0,r.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,r.jsxs)("div",{className:"card mb-0",children:[(0,r.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Backend Status"}),(0,r.jsxs)("div",{className:"text-900 font-medium text-xl "+(S?"text-green-600":"text-red-600 animate-pulse"),children:[" ",S?"Connected":"Disconnected"]})]}),(0,r.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,r.jsx)("i",{className:"pi pi-chevron-circle-up text-blue-500 text-xl"})})]}),(0,r.jsx)(s.Z,{date:k})]})}),(0,r.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,r.jsxs)("div",{className:"card mb-0",children:[(0,r.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block text-500 font-medium mb-3",children:"XTABLES Status"}),(0,r.jsx)("div",{className:"text-900 font-medium text-xl "+(S&&(null==E?void 0:E.connected)?"text-green-600":"text-red-600 animate-pulse"),children:S&&(null==E?void 0:E.connected)?"Connected":"Disconnected"})]}),(0,r.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,r.jsx)("i",{className:"pi pi-table text-blue-500 text-xl"})})]}),(0,r.jsx)(s.Z,{date:T})]})}),(0,r.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,r.jsxs)("div",{className:"card mb-0",children:[(0,r.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Health"}),(0,r.jsx)("div",{className:"text-xl "+(S&&(null==E?void 0:E.connected)?(null==E?void 0:null===(e=E.info)||void 0===e?void 0:e.health)==="GOOD"?"text-green-600 font-medium":(null==E?void 0:null===(n=E.info)||void 0===n?void 0:n.health)==="OKAY"?"text-yellow-500 font-medium":(null==E?void 0:null===(t=E.info)||void 0===t?void 0:t.health)==="STRESSED"?"text-orange-500 font-semibold":(null==E?void 0:null===(o=E.info)||void 0===o?void 0:o.health)==="OVERLOAD"?"text-red-500 animate-pulse font-bold":(null==E?void 0:null===(c=E.info)||void 0===c?void 0:c.health)==="CRITICAL"?"text-red-700 animate-pulse-fast font-extrabold":(null==E?void 0:null===(d=E.info)||void 0===d?void 0:d.health)==="UNKNOWN"?"text-gray-500 font-extrabold":"text-red-600 animate-pulse":"text-red-600 animate-pulse"),children:S&&(null==E?void 0:E.connected)?(null==E?void 0:null===(u=E.info)||void 0===u?void 0:u.health)||"Unknown":"Disconnected"})]}),(0,r.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,r.jsx)("i",{className:"pi pi-heart-fill text-cyan-500 text-xl"})})]}),(0,r.jsx)(s.Z,{date:T})]})}),(0,r.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,r.jsxs)("div",{className:"card mb-0",children:[(0,r.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Clients"}),(0,r.jsx)("div",{className:"text-900 font-medium text-xl "+(S&&(null==E?void 0:E.connected)&&(null==E?void 0:null===(m=E.info)||void 0===m?void 0:m.totalClients)?"text-white":"text-red-600 animate-pulse"),children:S&&(null==E?void 0:E.connected)?null!==(y=null==E?void 0:null===(v=E.info)||void 0===v?void 0:v.totalClients)&&void 0!==y?y:"Unknown":"Disconnected"})]}),(0,r.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,r.jsx)("i",{className:"pi pi-android text-cyan-500 text-xl"})})]}),(0,r.jsx)(s.Z,{date:D})]})}),(0,r.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,r.jsxs)("div",{className:"card mb-0",children:[(0,r.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block text-500 font-medium mb-3",children:"IP Address"}),(0,r.jsx)("div",{className:"text-900 font-medium text-xl "+(S&&(null==E?void 0:E.connected)?null==E?void 0:null===(x=E.info)||void 0===x?void 0:x.ip:"text-red-600 animate-pulse"),children:S&&(null==E?void 0:E.connected)?(null==E?void 0:null===(f=E.info)||void 0===f?void 0:f.ip)||"Unknown":"Disconnected"})]}),(0,r.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,r.jsx)("i",{className:"pi pi-map-marker text-cyan-500 text-xl"})})]}),(0,r.jsx)(s.Z,{date:T})]})}),(0,r.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,r.jsxs)("div",{className:"card mb-0",children:[(0,r.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Round Trip Latency"}),(0,r.jsx)("div",{className:"text-900 font-medium text-xl "+(S&&(null==E?void 0:E.connected)?null==E?void 0:E.roundTripLatencyMS:"text-red-600 animate-pulse"),children:S&&(null==E?void 0:E.connected)?(null==E?void 0:E.roundTripLatencyMS)||"Unknown":"Disconnected"})]}),(0,r.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,r.jsx)("i",{className:"pi pi-bolt text-cyan-500 text-xl"})})]}),(0,r.jsx)(s.Z,{date:T})]})}),(0,r.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,r.jsxs)("div",{className:"card mb-0",children:[(0,r.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Network Latency"}),(0,r.jsx)("div",{className:"text-900 font-medium text-xl "+(S&&(null==E?void 0:E.connected)?null==E?void 0:E.networkLatencyMS:"text-red-600 animate-pulse"),children:S&&(null==E?void 0:E.connected)?(null==E?void 0:E.networkLatencyMS)||"Unknown":"Disconnected"})]}),(0,r.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,r.jsx)("i",{className:"pi pi-wifi text-cyan-500 text-xl"})})]}),(0,r.jsx)(s.Z,{date:T})]})}),(0,r.jsx)("div",{className:"col-12 lg:col-6 xl:col-3",children:(0,r.jsxs)("div",{className:"card mb-0",children:[(0,r.jsxs)("div",{className:"flex justify-content-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"block text-500 font-medium mb-3",children:"Total Messages"}),(0,r.jsx)("div",{className:"text-900 font-medium text-xl "+(S&&(null==E?void 0:E.connected)?null==E?void 0:null===(p=E.info)||void 0===p?void 0:p.totalMessages:"text-red-600 animate-pulse"),children:S&&(null==E?void 0:E.connected)?null!==(N=null==E?void 0:null===(h=E.info)||void 0===h?void 0:null===(b=h.totalMessages)||void 0===b?void 0:b.toLocaleString())&&void 0!==N?N:"Unknown":"Disconnected"})]}),(0,r.jsx)("div",{className:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"},children:(0,r.jsx)("i",{className:"pi pi-send text-cyan-500 text-xl"})})]}),(0,r.jsx)(s.Z,{date:L})]})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"card mb-0",children:[(0,r.jsx)("h5",{children:"CPU Usage"}),(0,r.jsx)(a.k,{mode:S&&(null==E?void 0:E.connected)?"determinate":"indeterminate",value:S&&(null==E?void 0:E.connected)?(null!==(w=E.info.processCpuLoadPercentage)&&void 0!==w?w:0).toFixed(3):0}),(0,r.jsx)("h5",{children:"Memory Usage"}),(0,r.jsx)(a.k,{mode:S&&(null==E?void 0:E.connected)?"determinate":"indeterminate",value:S&&(null==E?void 0:E.connected)?(E.info.usedMemoryMB/E.info.maxMemoryMB*100).toFixed(3):0}),(0,r.jsx)("h5",{children:"Total Threads"}),(0,r.jsx)(a.k,{mode:S&&(null==E?void 0:E.connected)?"determinate":"indeterminate",displayValueTemplate:e=>(0,r.jsx)(l.Fragment,{children:e}),value:S&&(null==E?void 0:E.connected)&&(null==E?void 0:null===(g=E.info)||void 0===g?void 0:g.totalThreads)||0}),(0,r.jsx)("h5",{children:"Available Processors"}),(0,r.jsx)(a.k,{mode:S&&(null==E?void 0:E.connected)?"determinate":"indeterminate",displayValueTemplate:e=>(0,r.jsx)(l.Fragment,{children:e}),value:S&&(null==E?void 0:E.connected)&&(null==E?void 0:null===(j=E.info)||void 0===j?void 0:j.availableProcessors)||0}),(0,r.jsx)("h5",{children:"Power Usage"}),(0,r.jsx)(a.k,{mode:S&&(null==E?void 0:E.connected)?"determinate":"indeterminate",displayValueTemplate:()=>{var e,n,t;return(0,r.jsxs)(l.Fragment,{children:[null!==(t=null==E?void 0:null===(n=E.info)||void 0===n?void 0:null===(e=n.powerUsageWatts)||void 0===e?void 0:e.toFixed(3))&&void 0!==t?t:0," Watts"]})},value:100})]})})]})}},7389:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(9268),l=t(6006);let i=e=>{let n=new Date-new Date(e),t=Math.floor(n/1e3),r=Math.floor(t/31536e3);return r>1?"".concat(r," years ago"):(r=Math.floor(t/2592e3))>1?"".concat(r," months ago"):(r=Math.floor(t/86400))>1?"".concat(r," days ago"):(r=Math.floor(t/3600))>1?"".concat(r," hours ago"):(r=Math.floor(t/60))>1?"".concat(r," minutes ago"):t>=1?"".concat(t," seconds ago"):n>1?"".concat(n," milliseconds ago"):"just now"};var s=e=>{let{date:n,className:t,refresh:s=100}=e,[a,o]=(0,l.useState)("");return(0,l.useEffect)(()=>{o(i(n));let e=setInterval(()=>{o(i(n))},s);return()=>clearInterval(e)},[n,s]),(0,r.jsx)("span",{className:t,children:a})}},7537:function(e,n,t){"use strict";t.d(n,{U:function(){return i},q:function(){return s}});var r=t(9268),l=t(6006);let i=(0,l.createContext)({}),s=e=>{let{children:n,url:t}=e,[s,a]=(0,l.useState)(!1),[o,c]=(0,l.useState)(new Date),d=(0,l.useRef)(null),[u,m]=(0,l.useState)(null);return(0,l.useEffect)(()=>((function e(){console.log("Connecting to websocket"),d.current=new WebSocket(t),d.current.onopen=()=>{a(!0)},d.current.onclose=()=>(a(!1),console.log("Disconnected from websocket."),e()),d.current.onerror=e=>{console.error("WebSocket Error: ",e),d.current.close(),a(!1)}})(),()=>{d.current&&d.current.close()}),[t]),(0,l.useEffect)(()=>{c(new Date)},[s]),(0,l.useEffect)(()=>{let e=e=>{let n=JSON.parse(e.data);if("DEVICE-ERROR-LOG"===n.type){let e=JSON.parse(n.message);m(e)}};return d.current&&d.current.addEventListener("message",e),()=>{d.current.removeEventListener("message",e)}},[d.current]),(0,r.jsx)(i.Provider,{value:{isConnected:s,lastConnectionUpdate:o,sendMessageAndWaitForCondition:function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500;return s?(d.current.send(JSON.stringify(e)),new Promise((e,r)=>{let l=t=>{let r=JSON.parse(t.data);if(n(r)){d.current.removeEventListener("message",l),clearTimeout(i);let n=r.message;r.message=JSON.parse(n),e(r)}},i=setTimeout(()=>{d.current.removeEventListener("message",l),r(Error("Timeout: Condition not met within ".concat(t," ms")))},t);d.current.addEventListener("message",l)})):Promise.reject(Error("WebSocket is not connected"))},sendMessageTillCondition:(e,n)=>{if(!s)throw Error("WebSocket is not connected");d.current.send(JSON.stringify(e));let t=e=>{let r=JSON.parse(e.data);n(r)&&d.current.removeEventListener("message",t)};d.current.addEventListener("message",t)},listenTillCondition:e=>s?new Promise(n=>{let t=r=>{let l=JSON.parse(r.data);e(l)&&(d.current.removeEventListener("message",t),n(l))};d.current.addEventListener("message",t)}):Promise.reject(Error("WebSocket is not connected")),socket:d,latestLog:u,sendMessage:e=>{if(!s)return Error("WebSocket is not connected");d.current.send(JSON.stringify(e))}},children:n})}},9009:function(e,n,t){"use strict";t.d(n,{k:function(){return m}});var r=t(6006),l=t(3142),i=t(6878),s=t(465),a=t(5942);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=i.V.extend({defaultProps:{__TYPE:"ProgressBar",__parentMetadata:null,id:null,value:null,showValue:!0,unit:"%",style:null,className:null,mode:"determinate",displayValueTemplate:null,color:null,children:void 0},css:{classes:{root:function(e){return"indeterminate"===e.props.mode?(0,a.AK)("p-progressbar p-component p-progressbar-indeterminate"):(0,a.AK)("p-progressbar p-component p-progressbar-determinate")},value:"p-progressbar-value p-progressbar-value-animate",label:"p-progressbar-label",container:"p-progressbar-indeterminate-container"},styles:"\n@layer primereact {\n  .p-progressbar {\n      position: relative;\n      overflow: hidden;\n  }\n  \n  .p-progressbar-determinate .p-progressbar-value {\n      height: 100%;\n      width: 0%;\n      position: absolute;\n      display: none;\n      border: 0 none;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      overflow: hidden;\n  }\n  \n  .p-progressbar-determinate .p-progressbar-label {\n      display: inline-flex;\n  }\n  \n  .p-progressbar-determinate .p-progressbar-value-animate {\n      transition: width 1s ease-in-out;\n  }\n  \n  .p-progressbar-indeterminate .p-progressbar-value::before {\n        content: '';\n        position: absolute;\n        background-color: inherit;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        will-change: left, right;\n        -webkit-animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n                animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n  }\n  \n  .p-progressbar-indeterminate .p-progressbar-value::after {\n      content: '';\n      position: absolute;\n      background-color: inherit;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      will-change: left, right;\n      -webkit-animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\n              animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;\n      -webkit-animation-delay: 1.15s;\n              animation-delay: 1.15s;\n  }\n}\n\n@-webkit-keyframes p-progressbar-indeterminate-anim {\n  0% {\n    left: -35%;\n    right: 100%; }\n  60% {\n    left: 100%;\n    right: -90%; }\n  100% {\n    left: 100%;\n    right: -90%; }\n}\n@keyframes p-progressbar-indeterminate-anim {\n  0% {\n    left: -35%;\n    right: 100%; }\n  60% {\n    left: 100%;\n    right: -90%; }\n  100% {\n    left: 100%;\n    right: -90%; }\n}\n\n@-webkit-keyframes p-progressbar-indeterminate-anim-short {\n  0% {\n    left: -200%;\n    right: 100%; }\n  60% {\n    left: 107%;\n    right: -8%; }\n  100% {\n    left: 107%;\n    right: -8%; }\n}\n@keyframes p-progressbar-indeterminate-anim-short {\n  0% {\n    left: -200%;\n    right: 100%; }\n  60% {\n    left: 107%;\n    right: -8%; }\n  100% {\n    left: 107%;\n    right: -8%; }\n}\n",inlineStyles:{value:function(e){var n=e.props,t=Math.max(n.value,2),r=n.value?n.color:"transparent";return"indeterminate"===n.mode?{backgroundColor:n.color}:{width:t+"%",display:"flex",backgroundColor:r}}}}});function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var m=r.memo(r.forwardRef(function(e,n){var t,m,v,x,f,p,b,h=(0,s.c)(),g=r.useContext(l.Ou),j=d.getProps(e,g),y=d.setMetaData(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){!function(e,n,t){var r;r=function(e,n){if("object"!==c(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"===c(r)?r:String(r))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({props:j},j.__parentMetadata)),N=y.ptm,w=y.cx,S=y.isUnstyled;(0,i.e)(d.css.styles,S,{name:"progressbar"});var k=r.useRef(null);if(r.useImperativeHandle(n,function(){return{props:j,getElement:function(){return k.current}}}),"determinate"===j.mode)return t=j.showValue&&null!=j.value?j.displayValueTemplate?j.displayValueTemplate(j.value):j.value+j.unit:null,m=h({className:(0,a.AK)(j.className,w("root")),style:j.style,role:"progressbar","aria-valuemin":"0","aria-valuenow":j.value,"aria-valuemax":"100"},d.getOtherProps(j),N("root")),v=h({className:w("value"),style:{width:j.value+"%",display:"flex",backgroundColor:j.color}},N("value")),x=h({className:w("label")},N("label")),r.createElement("div",o({id:j.id,ref:k},m),r.createElement("div",v,null!=t&&r.createElement("div",x,t)));if("indeterminate"===j.mode)return f=h({className:(0,a.AK)(j.className,w("root")),style:j.style,role:"progressbar","aria-valuemin":"0","aria-valuenow":j.value,"aria-valuemax":"100"},d.getOtherProps(j),N("root")),p=h({className:w("container")},N("container")),b=h({className:w("value"),style:{backgroundColor:j.color}},N("value")),r.createElement("div",o({id:j.id,ref:k},f),r.createElement("div",p,r.createElement("div",b)));throw Error(j.mode+" is not a valid mode for the ProgressBar. Valid values are 'determinate' and 'indeterminate'")}));m.displayName="ProgressBar"}},function(e){e.O(0,[434,6878,9253,5769,1744],function(){return e(e.s=2832)}),_N_E=e.O()}]);